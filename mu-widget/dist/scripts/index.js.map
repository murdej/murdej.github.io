{"mappings":"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","sources":["MuWidget2/scripts/index.ts","node_modules/mu-widget/lib/MuWidget.js","node_modules/mu-widget/lib/MuBinder.js","node_modules/mu-widget/lib/StrParser.js","MuWidget2/scripts/Widgets.ts","node_modules/@parcel/transformer-js/src/esmodule-helpers.js"],"sourcesContent":["import {MuWidget} from \"mu-widget/lib/MuWidget\";\n\nMuWidget.registerAll(require('./Widgets'));\nMuWidget.startup();","\"use strict\";\n/*\tThis file is part of MuWidget.\n\n    MuWidget is free software: you can redistribute it and/or modify\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    MuWidget is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with MuWidget.  If not, see <https://www.gnu.org/licenses/>. */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SetAttributes = exports.MuWidget = void 0;\nconst MuBinder_1 = require(\"./MuBinder\");\nclass MuWidget {\n    constructor(container) {\n        this.ui = {}; //Record<string, AnyElementA> = {};\n        this.muOpts = {};\n        this.muWidgetEventHandlers = {};\n        this.muIndexOpts = null;\n        this.muSubWidgets = [];\n        this.muNamedWidget = {}; // Record<string, MuWidget> = {};\n        this.muRoot = this;\n        this.muParent = null;\n        this.muTemplates = {};\n        this.muTemplateParents = {};\n        this.muOnAfterIndex = [];\n        this.muBindOpts = {};\n        this.container = container;\n    }\n    muWidgetFromTemplate(templateName, container, params = null, position = \"last\", ref = null) {\n        let finalContainer;\n        if (typeof container == 'string') {\n            var containerName = container;\n            finalContainer = this.ui[container];\n            if (!finalContainer)\n                throw new Error(\"Container with mu-id='\" + containerName + \"' not exists.\");\n        }\n        else\n            finalContainer = container;\n        var tmpElemementType = \"div\";\n        var tmpTemplate = this.muFindTemplate(templateName);\n        if (!tmpTemplate)\n            throw \"No template named '\" + templateName + \"'.\";\n        tmpTemplate = tmpTemplate.toLowerCase();\n        if (tmpTemplate.startsWith('<tr'))\n            tmpElemementType = \"tbody\";\n        if (tmpTemplate.startsWith('<td') || tmpTemplate.startsWith('<th'))\n            tmpElemementType = \"tr\";\n        if (tmpTemplate.startsWith('<tbody'))\n            tmpElemementType = \"table\";\n        var element = document.createElementNS(finalContainer.namespaceURI, tmpElemementType);\n        element.innerHTML = this.muTemplates[templateName];\n        element = element.firstElementChild;\n        // if (params) element.setAttribute('mu-params', JSON.stringify(params));\n        switch (position) {\n            case 'first':\n                if (finalContainer.firstElementChild) {\n                    finalContainer.insertBefore(element, finalContainer.firstElementChild);\n                }\n                else {\n                    finalContainer.appendChild(element);\n                }\n                break;\n            case 'before':\n                finalContainer.insertBefore(element, ref);\n                break;\n            case 'after':\n                if (ref.nextElementSibling) {\n                    finalContainer.insertBefore(element, ref.nextElementSibling);\n                }\n                else {\n                    finalContainer.appendChild(element);\n                }\n                break;\n            case 'last':\n                finalContainer.appendChild(element);\n                break;\n        }\n        let widget = this.muActivateWidget(element, null, params || {});\n        let opts = this.muGetElementOpts(element);\n        if (!opts.id)\n            opts.id = templateName;\n        this.muAddEvents(opts, element, widget);\n        return widget;\n    }\n    createElementFromHTML(src, container) {\n        let lSrc = src.toLowerCase();\n        let tmpElemementType = \"div\";\n        if (lSrc.startsWith('<tr'))\n            tmpElemementType = \"tbody\";\n        if (lSrc.startsWith('<td') || lSrc.startsWith('<th'))\n            tmpElemementType = \"tr\";\n        if (lSrc.startsWith('<tbody') || lSrc.startsWith('<thead'))\n            tmpElemementType = \"table\";\n        let element = document.createElementNS(container.namespaceURI, tmpElemementType);\n        element.innerHTML = src;\n        element = element.firstElementChild;\n        return element;\n    }\n    muRemoveSelf() {\n        this.container.parentNode.removeChild(this.container);\n    }\n    muGetChildWidgets(container) {\n        return MuWidget.getChildWidgets((typeof container === \"string\")\n            ? this.ui[container]\n            : container);\n    }\n    muBindList(list, templateName, container, commonParams = null, finalCalback = null) {\n    }\n    muVisible(state, control) {\n        if (Array.isArray(control)) {\n            for (const controlItem of control)\n                this.muVisible(state, controlItem);\n        }\n        else {\n            let neg = false;\n            if (typeof control === 'string') {\n                if (control.startsWith('!')) {\n                    neg = true;\n                    control = control.substring(1);\n                }\n                if (!(control in this.ui))\n                    throw new Error(\"Control with mu-id='\" + control + \"' not found.\");\n                control = this.ui[control];\n            }\n            control.style.display = state !== neg ? null : \"none\";\n        }\n    }\n    muBindData(srcData) {\n        MuBinder_1.MuBinder.bindData(this.muBindOpts, srcData, this);\n        this.muAfterBindData();\n    }\n    muFetchData() {\n        return MuBinder_1.MuBinder.fetchData(this.muBindOpts, this);\n    }\n    // protected muRegisterEvent(...args) { }\n    // public addEventListener(name : string, handler : (...args)=>void) { }\n    // public muEventNames() : string[] { return []; }\n    muAfterBindData() { }\n    // public constructor(container : AnyElement)\n    muInit(container) {\n        this.muOnAfterIndex = [];\n        this.ui = {};\n        this.muOpts =\n            {\n                attributePrefix: \"mu-\",\n                bindEvents: [\n                    'click', 'dblclick', 'mouseenter', 'mouseleave', 'mousemove', 'mouseout', 'mouseover', 'mouseup', 'blur',\n                    'change', 'focus', 'select', 'submit', 'keyup', 'keydown', 'keypress', 'scroll',\n                    'drag', 'dragstart', 'dragend', 'dragover', 'dragenter', 'dragleave', 'drop', 'input'\n                ],\n                autoMethodNameSeparator: \"_\"\n            };\n        /*\topts ? opts : {}\n        );*/\n        this.container = container;\n        this.container.widget = this;\n        this.muSubWidgets = [];\n        this.muNamedWidget = {};\n        this.muTemplates = {};\n        this.muTemplateParents = {};\n        this.muRoot = this;\n        this.muWidgetEventHandlers = {};\n        this.beforeIndex();\n        this.muAddEvents({ id: 'container' }, this.container);\n        this.muIndexTree(container, true);\n    }\n    beforeIndex() { }\n    muDispatchEvent(name, ...args) {\n        if (!(name in this.muWidgetEventHandlers))\n            throw new Error(\"Unknown event '\" + name + \"' on class '\" + this.constructor.name + \"'.\");\n        if (this.muWidgetEventHandlers[name]) {\n            // const args = Array.from(arguments);\n            // args[0] = <MuEvent>{\n            const ev = {\n                sender: this,\n                originalEvent: event,\n                args: Array.from(arguments).slice(1)\n            };\n            //console.log(args, arguments);\n            /* for(const handler of this.muWidgetEventHandlers[name])\n                handler.apply(this, args); */\n            for (let i = 0, l = this.muWidgetEventHandlers[name].length; i < l; i++) {\n                const handler = this.muWidgetEventHandlers[name][i];\n                handler.call(this, ev);\n            }\n        }\n    }\n    muRegisterEvent(...args) {\n        // for(var i = 0; i < arguments.length; i++) this.muWidgetEventHandlers[arguments[i]] = [];\n        for (const eventName of args)\n            this.muWidgetEventHandlers[eventName] = [];\n    }\n    addEventListener(name, handler) {\n        if (!(name in this.muWidgetEventHandlers))\n            throw new Error(\"Unknown event '\" + name + \"' on class '\" + this.constructor.name + \"'.\");\n        this.muWidgetEventHandlers[name].push(handler);\n    }\n    muEventNames() {\n        return Object.keys(this.muWidgetEventHandlers);\n    }\n    muActivateWidget(element, opts, extraParams = {}) {\n        if (!opts)\n            opts = this.muGetElementOpts(element);\n        const widgetName = opts.widget;\n        const c = MuWidget.widgetClasses[widgetName] || window[widgetName];\n        if (!c)\n            throw \"Class '\" + opts.widget + \"' is not defined.\";\n        const widget = new c(element, opts);\n        if (!(widget instanceof MuWidget))\n            console.error(\"Widget '\" + widgetName + \"' is not a descendant of the MuWidget class.\");\n        widget.muParent = this;\n        widget.muRoot = this.muRoot || this;\n        if (opts.params) {\n            const params = JSON.parse(opts.params);\n            for (const k in params) {\n                widget[k] = params[k];\n            }\n        }\n        if (extraParams) {\n            for (const k in extraParams) {\n                widget[k] = extraParams[k];\n            }\n        }\n        // MuWidget.extendPrototype(widget);\n        this.muSubWidgets.push(widget);\n        if (opts.id)\n            this.muNamedWidget[opts.id] = widget;\n        // MuWidget.call(widget, element, /*opts.opts || this.muOpts */);\n        widget.muInit(element);\n        return widget;\n    }\n    muGetElementOpts(element) {\n        var res = {};\n        for (var i = 0, attributes = element.attributes, n = attributes.length, arr = []; i < n; i++) {\n            var name = attributes[i].nodeName;\n            if (name.startsWith(this.muOpts.attributePrefix)) {\n                var optName = name.substr(this.muOpts.attributePrefix.length);\n                res[optName] = attributes[i].nodeValue;\n            }\n        }\n        return res;\n    }\n    muFindTemplate(templateName) {\n        let tmpTemplate = null;\n        if (templateName.startsWith(\"ancestor:\")) {\n            let aTemplateName = templateName.substr(9);\n            let w = this;\n            while (w) {\n                if (w.muTemplates[aTemplateName]) {\n                    tmpTemplate = w.muTemplates[aTemplateName];\n                    break;\n                }\n                w = w.muParent;\n            }\n        }\n        else {\n            tmpTemplate = this.muTemplates[templateName];\n        }\n        return tmpTemplate;\n    }\n    muIndexTree(element, indexWidget, useName = null) {\n        var _a;\n        var ev = { element: element, widget: this, opts: this.muGetElementOpts(element) };\n        //TODO: MuBinder\n        // this.muCallPlugin(\"indexPrepareElement\", ev);\n        if (!ev.element)\n            return;\n        element = ev.element;\n        var opts = ev.opts;\n        if (opts.usetemplate) {\n            var src = this.muFindTemplate(opts.usetemplate);\n            // element.outerHTML = src;\n            if (typeof src === \"undefined\")\n                throw new Error(\"Template '\" + opts.usetemplate + \"' not exists.\");\n            var newElement = this.createElementFromHTML(src, element.parentNode);\n            element.parentNode.insertBefore(newElement, element);\n            element.parentNode.removeChild(element);\n            element = newElement;\n            if (opts.id)\n                element.setAttribute(this.muOpts.attributePrefix + \"id\", opts.id);\n            if (opts.params)\n                element.setAttribute(this.muOpts.attributePrefix + \"params\", opts.params);\n            if (opts.widget)\n                element.setAttribute(this.muOpts.attributePrefix + \"widget\", opts.widget);\n            if (opts.template)\n                element.setAttribute(this.muOpts.attributePrefix + \"template\", opts.template);\n            opts = this.muGetElementOpts(element);\n        }\n        if (opts.preproc) {\n            this.preproc(element, opts.preproc);\n        }\n        this.muIndexOpts = opts;\n        useName = useName || opts.usename;\n        if (useName) {\n            const n = (_a = element.attributes.getNamedItem(\"name\")) === null || _a === void 0 ? void 0 : _a.value;\n            if (n)\n                opts.id = n;\n        }\n        if (opts.noindex)\n            return;\n        if (opts.template) {\n            element.removeAttribute(this.muOpts.attributePrefix + \"template\");\n            if (opts.template in this.muTemplates)\n                console.error(\"The widget already contains template '\" + opts.template + \"'.\");\n            this.muTemplates[opts.template] = element.outerHTML;\n            this.muTemplateParents[opts.template] = element.parentNode;\n            if (element.parentNode)\n                element.parentNode.removeChild(element);\n            return;\n        }\n        if (opts.id)\n            this.muAddUi(opts.id, element);\n        // if (opts.bind) this.muParseBinds(opts.bind, element);\n        ev.opts = opts;\n        this.muCallPlugin(\"beforeIndexElement\", ev);\n        if ((!opts.widget || indexWidget) && !opts.nocontent && element.children) {\n            // Index children\n            var elements = [];\n            // Create copy, template modify children\n            for (const el of element.children)\n                elements.push(el);\n            for (const el of elements) {\n                // if (elements[i])\n                this.muIndexTree(el, false, useName);\n            }\n        }\n        var widget = null;\n        if (opts.widget && !indexWidget) {\n            // Initialize widget\n            widget = this.muActivateWidget(element, opts);\n        }\n        this.muAddEvents(opts, element, widget);\n        if (indexWidget) {\n            this.afterIndex();\n            for (var i = 0, l = this.muOnAfterIndex.length; i < l; i++) {\n                this.muOnAfterIndex[i](this);\n            }\n        }\n    }\n    muAddUi(id, element) {\n        if (id in this.ui)\n            console.error(\"The widget already contains an element with mu-id '\" + id + \"'.\");\n        this.ui[id] = element;\n    }\n    muCallPlugin(eventName, eventArgs) {\n        for (var plugin of MuWidget.plugIns) {\n            if (plugin[eventName])\n                plugin[eventName](eventArgs);\n        }\n    }\n    afterIndex() { }\n    preproc(element, preproc) {\n        var p = preproc.indexOf(\" \");\n        var name = preproc;\n        var paramsStr = \"\";\n        if (p >= 0) {\n            var name = preproc.substr(0, p);\n            var paramsStr = preproc.substr(p);\n        }\n        if (!(name in MuWidget.preproc))\n            throw new Error(\"Preproc '\" + name + '\" not defined.');\n        var pp = MuWidget.preproc[name];\n        const mode = pp.prototype.preproc ? \"class\" : \"function\";\n        if (mode === \"function\")\n            paramsStr = \"[\" + paramsStr + \"]\";\n        else\n            paramsStr = \"{\" + paramsStr + \"}\";\n        try {\n            var params = paramsStr ? JSON.parse(paramsStr) : null;\n        }\n        catch (exc) {\n            throw new Error(exc.toString() + \"\\n\" + paramsStr);\n        }\n        if (mode === \"function\") {\n            params.unshift(element);\n            pp.call(null, params);\n        }\n        else {\n            var inst = new pp();\n            for (var k in params)\n                inst[k] = params[k];\n            inst.preproc(element);\n        }\n    }\n    muAddEvents(opts, element, widget = null) {\n        var autoMethodName;\n        var eventNames = [...this.muOpts.bindEvents];\n        var wEvents = [];\n        if (widget) {\n            wEvents = widget.muEventNames();\n            eventNames = [...eventNames, ...wEvents];\n        }\n        var tags = opts.tag ? opts.tag.split(\" \") : null;\n        for (var i = 0, l = eventNames.length; i < l; i++) {\n            const eventName = eventNames[i];\n            const eventTarget = (widget && wEvents.indexOf(eventName) >= 0) ? widget : element;\n            let methodName = opts[eventName];\n            if (methodName === undefined) {\n                if (opts.id) {\n                    autoMethodName = opts.id + this.muOpts.autoMethodNameSeparator + eventName;\n                    if (autoMethodName in this)\n                        methodName = autoMethodName;\n                }\n            }\n            if (methodName) {\n                this.muAddEvent(eventName, eventTarget, this.muGetMethodCallback(methodName));\n            }\n            if (tags) {\n                for (var i1 = 0, l1 = tags.length; i1 < l1; i1++) {\n                    autoMethodName = tags[i1] + this.muOpts.autoMethodNameSeparator + eventName;\n                    if (autoMethodName in this) {\n                        this.muAddEvent(eventName, eventTarget, this.muGetMethodCallback(autoMethodName));\n                    }\n                }\n            }\n        }\n        // init\n        if (tags) {\n            const eventTarget = element;\n            for (var i = 0, l = tags.length; i < l; i++) {\n                autoMethodName = tags[i] + this.muOpts.autoMethodNameSeparator + \"init\";\n                if (autoMethodName in this) {\n                    this.muGetMethodCallback(autoMethodName)(eventTarget);\n                }\n            }\n        }\n    }\n    muFindMethod(name, context) {\n        var obj = context || this;\n        //todo: blbne\n        while (name.startsWith(\"parent.\")) {\n            if (!obj.muParent)\n                throw \"Widget of class '\" + obj.constructor.name + \"' has not parent.\";\n            obj = obj.muParent;\n            name = name.substr(7);\n        }\n        var params = [];\n        var p = null;\n        if (-1 != (p = name.indexOf(':'))) {\n            params = JSON.parse('[' + name.substr(p + 1) + ']');\n            name = name.substr(0, p);\n        }\n        var method = obj[name];\n        if (method === undefined)\n            throw \"Undefined method '\" + name + \"' in class '\" + obj.constructor.name + \"'.\";\n        return {\n            method: method,\n            args: params,\n            context: obj\n        };\n    }\n    muGetMethodCallback(name, context = null) {\n        const methodInfo = this.muFindMethod(name, context);\n        return (ev /* , event : Event */) => {\n            /* const callparams = [<MuEvent>{\n                sender: event?.target,\n                source: source,\n                originalEvent: event\n            }, ...methodInfo.args, ...Array.from(arguments).slice(1)]; */\n            const callparams = [ev, ...methodInfo.args, ...(ev.args || [])];\n            return methodInfo.method.apply(methodInfo.context, callparams);\n        };\n    }\n    muAddEvent(eventName, element, callback) {\n        element.addEventListener(eventName, callback);\n        /* (element as any).addEventListener(eventName, (/*ev : Event* /) => {\n            // return callback(this, ev);\n            // return callback.apply(null, arguments);\n            console.log(\"muAddEvent:wrapper\", arguments);\n            return callback(...Array.from(arguments));\n            // return callback.apply(null, [this].concat(Array.from(arguments)));\n        }); */\n    }\n    static getChildWidgets(container) {\n        const ls = [];\n        for (const item of container.children) {\n            if (item.widget)\n                ls.push(item.widget);\n        }\n        return ls;\n    }\n    static registerAll() {\n        for (var i = 0; i < arguments.length; i++) {\n            var classes = arguments[i];\n            for (var k in classes)\n                MuWidget.widgetClasses[k] = classes[k];\n        }\n    }\n    static registerAs(c, n) {\n        MuWidget.widgetClasses[n] = c;\n    }\n    static startup(startElement = null, onSucces = null, onBefore = null) {\n        var fn = window.addEventListener || window.attachEvent || function (type, listener) {\n            if (window.onload) {\n                var curronload = window.onload;\n                var newonload = function (evt) {\n                    curronload(evt);\n                    listener(evt);\n                };\n                window.onload = newonload;\n            }\n            else {\n                window.onload = listener;\n            }\n        };\n        fn('load', function () {\n            if (onBefore)\n                onBefore();\n            var element = (startElement || document.documentElement);\n            var muRoot = new MuWidget(element);\n            muRoot.muInit(element);\n            MuWidget.root = muRoot;\n            if (onSucces)\n                onSucces(muRoot);\n        });\n    }\n}\nexports.MuWidget = MuWidget;\n// statics\nMuWidget.widgetClasses = {};\nMuWidget.plugIns = [];\nMuWidget.eventLegacy = false;\nfunction SetAttributes(element, attrs) {\n    for (const n in attrs) {\n        element.setAttribute(n, attrs[n].toString());\n    }\n}\nexports.SetAttributes = SetAttributes;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MuBinder = void 0;\nconst StrParser_1 = require(\"./StrParser\");\nclass MuBinder {\n    static parse(src, element) {\n        /*\n        source\n        source:target\n        source::target\n        source;target\n        sourcer|filter():target\n        */\n        let mode = \"source\";\n        const optsList = [];\n        const sp = new StrParser_1.StrParser(src);\n        let p;\n        let lastP = 0;\n        function parseFetchBind(chunk, opts) {\n            switch (chunk) {\n                case \":\":\n                case \"::\":\n                case \"^\":\n                    opts.forBind = chunk != \"^\";\n                    opts.forFetch = chunk != \":\";\n                    return true;\n                case \";\":\n                    mode = \"complete\";\n                    opts.forBind = true;\n                    opts.forFetch = false;\n                    return true;\n                default:\n                    return false;\n            }\n        }\n        function parseFilter(sp, bindPart, opts) {\n            p = sp.findNext([\"::\", \":\", \"|\", \"^\", \";\", \"(\"]);\n            let filter = {\n                methodName: sp.substring(lastP, p).trim(),\n                args: []\n            };\n            if (!p) {\n                mode = \"end\";\n            }\n            else if (p.chunk === \";\") {\n                mode = \"complete\";\n                sp.toEndChunk();\n            }\n            else {\n                sp.toEndChunk();\n                lastP = sp.position;\n                if (p.chunk === \"(\") {\n                    const argStart = sp.pos();\n                    while (true) {\n                        p = sp.findNext([\")\", \"\\\"\"]);\n                        if (p === null)\n                            throw \"missing ')' after argument(s) '\" + src + \"'\";\n                        if (p.chunk == \")\") {\n                            sp.toEndChunk();\n                            lastP = sp.position;\n                            break;\n                        }\n                        // sko na konec stringu\n                        sp.toEndChunk();\n                        do {\n                            p = sp.findNext([\"\\\\\\\"\", \"\\\"\"]);\n                            if (p === null)\n                                throw \"unterminated string '\" + src + \"'\";\n                            sp.toEndChunk();\n                        } while (p.chunk === \"\\\\\\\"\");\n                    }\n                    const sArgs = sp.substring(argStart, p);\n                    try {\n                        filter.args = JSON.parse(\"[\" + sArgs + \"]\");\n                    }\n                    catch (exc) {\n                        throw \"Invalid arguments - \" + exc.toString() + \" '\" + sArgs + \"'\";\n                    }\n                }\n                mode = parseFetchBind(p.chunk, opts) ? \"target\" : (bindPart ? \"bindFilter\" : \"fetchFilter\");\n                // sp.toEndChunk();\n                lastP = sp.position;\n            }\n            return filter.methodName ? filter : null;\n        }\n        //@ts-ignore\n        while (!sp.isEnd() && mode != \"end\") {\n            mode = \"source\";\n            const opts = {\n                element: element,\n                source: null,\n                target: null,\n                bindFilters: [],\n                fetchFilters: [],\n                forBind: null,\n                forFetch: null\n            };\n            // sp.debugMode = true;\n            while (mode != \"complete\" && mode != \"end\") {\n                switch (mode) {\n                    case \"source\":\n                        p = sp.findNext([\"::\", \":\", \"|\", \";\", \"^\"]);\n                        opts.source = sp.substring(lastP, p).trim();\n                        if (!p) {\n                            mode = \"end\";\n                        }\n                        else if (p.chunk == \";\") {\n                            mode = \"complete\";\n                        }\n                        else {\n                            mode = parseFetchBind(p.chunk, opts) ? \"target\" : \"bindFilter\";\n                            sp.toEndChunk();\n                            lastP = sp.position;\n                        }\n                        break;\n                    case \"target\":\n                        p = sp.findNext([\"|\", \";\"]);\n                        opts.target = sp.substring(lastP, p).trim();\n                        if (!p) {\n                            mode = \"end\";\n                        }\n                        else if (p.chunk == \";\") {\n                            mode = \"complete\";\n                        }\n                        else {\n                            mode = \"fetchFilter\";\n                            sp.toEndChunk();\n                            lastP = sp.position;\n                        }\n                        break;\n                    case \"bindFilter\":\n                        var f = parseFilter(sp, true, opts);\n                        if (f)\n                            opts.bindFilters.push(f);\n                        break;\n                    case \"fetchFilter\":\n                        f = parseFilter(sp, false, opts);\n                        if (f)\n                            opts.fetchFilters.push(f);\n                        break;\n                }\n            }\n            optsList.push(opts);\n            sp.toEndChunk();\n            lastP = sp.position;\n        }\n        return optsList;\n    }\n    static setDefaults(mbo) {\n        const defaults = {};\n        // mbo.element.hasAttribute(\"mu-widget\")\n        if (mbo.element.hasAttribute(\"mu-widget\")) {\n            defaults.forBind = true;\n            defaults.forFetch = true;\n            defaults.target = \"@widget\";\n        }\n        else if (mbo.element instanceof HTMLInputElement || mbo.element instanceof HTMLTextAreaElement || mbo.element instanceof HTMLSelectElement) {\n            if (mbo.element.type === \"file\") {\n                defaults.forBind = false;\n                defaults.forFetch = true;\n                defaults.target = \"files\";\n            }\n            else {\n                defaults.forBind = true;\n                defaults.forFetch = true;\n                if (mbo.element.type === \"checkbox\")\n                    defaults.target = \"checked\";\n                else\n                    defaults.target = \"value\";\n            }\n        }\n        else if (mbo.element instanceof HTMLImageElement || mbo.element instanceof HTMLAudioElement || mbo.element instanceof HTMLVideoElement) {\n            defaults.forBind = true;\n            defaults.forFetch = false;\n            defaults.target = \"src\";\n        }\n        else {\n            defaults.forBind = true;\n            defaults.forFetch = false;\n            defaults.target = \"text\";\n        }\n        for (const k in defaults) {\n            if (mbo[k] === null)\n                mbo[k] = defaults[k];\n        }\n        const targetAlias = {\n            text: \"innerText\",\n            html: \"innerHTML\"\n        };\n        if (targetAlias[mbo.target])\n            mbo.target = targetAlias[mbo.target];\n    }\n    static beforeIndexElement(ev) {\n        if (ev.opts.bind) {\n            const bindSrc = ev.opts.bind;\n            for (var mbo of MuBinder.parse(bindSrc, ev.element)) {\n                MuBinder.setDefaults(mbo);\n                if (!ev.widget.muBindOpts)\n                    ev.widget.muBindOpts = {};\n                if (!ev.widget.muBindOpts[mbo.source])\n                    ev.widget.muBindOpts[mbo.source] = [];\n                ev.widget.muBindOpts[mbo.source].push(mbo);\n            }\n        }\n    }\n    static register(muWidget) {\n        // @ts-ignore\n        muWidget.plugIns.push({\n            beforeIndexElement: MuBinder.beforeIndexElement\n        });\n    }\n    static bindData(bindOpts, srcData, widget) {\n        for (const k in srcData) {\n            if (bindOpts[k]) {\n                for (const mbo of bindOpts[k]) {\n                    if (mbo.forBind) {\n                        let val = MuBinder.UseFilters(srcData[k], mbo.bindFilters, widget);\n                        MuBinder.setValue(val, mbo.target, mbo.element, widget);\n                    }\n                }\n            }\n        }\n    }\n    static fetchData(bindOpts, widget) {\n        const resData = {};\n        for (const k in bindOpts) {\n            for (const mbo of bindOpts[k]) {\n                if (mbo.forFetch) {\n                    /* resData[k] = mbo.element[mbo.target];\n                    let val = MuBinder.UseFilters(srcData[k], mbo.bindFilters, widget);\n                    ; */\n                    resData[k] = MuBinder.UseFilters(MuBinder.GetValue(mbo.target, mbo.element, widget), mbo.fetchFilters, widget);\n                }\n            }\n        }\n        return resData;\n    }\n    static UseFilters(val, filters, widget) {\n        var _a, _b, _c;\n        for (const filter of filters) {\n            let obj = null;\n            let fn;\n            if (filter.methodName in widget)\n                obj = widget; // fn = <MuBindFilterCallback>widget[filter.methodName];\n            else if (widget.muParent && filter.methodName in widget.muParent)\n                obj = widget.muParent; // fn = <MuBindFilterCallback>widget.muParent[filter.methodName];\n            else if (filter.methodName in MuBinder.filters)\n                obj = MuBinder.filters; //fn = MuBinder.filters[filter.methodName];\n            else {\n                // Parent widgets\n                let w = (_a = widget.muParent) === null || _a === void 0 ? void 0 : _a.muParent;\n                while (w) {\n                    if (filter.methodName in w) {\n                        obj = w;\n                        break;\n                    }\n                    w = w.muParent;\n                }\n            }\n            if (!obj)\n                throw new Error(\"Unknown filter '\" + filter.methodName + \"'. Source widget: '\" + ((_c = (_b = widget) === null || _b === void 0 ? void 0 : _b.costructor) === null || _c === void 0 ? void 0 : _c.name) + \"'\");\n            fn = obj[filter.methodName];\n            val = fn.call(obj, val, {}, ...filter.args);\n        }\n        return val;\n    }\n    static setValue(val, target, element, widget) {\n        if (target === \"@widget\") {\n            element[\"widget\"].muBindData(val);\n        }\n        else if (target === \"foreach\" || target === \"@foreach\") {\n            element.innerHTML = \"\";\n            for (const k in widget.muTemplateParents) {\n                if (element === widget.muTemplateParents[k]) {\n                    let arr = [];\n                    if (!Array.isArray(val)) {\n                        for (const k in val) {\n                            arr.push({\n                                key: k,\n                                value: val[k]\n                            });\n                        }\n                    }\n                    else\n                        arr = val;\n                    for (const data of arr) {\n                        const widgetParams = {};\n                        for (const k in data) {\n                            if (k.startsWith(\".\"))\n                                widgetParams[k.substr(1)] = data[k];\n                        }\n                        const itemWidget = widget.muWidgetFromTemplate(k, element, widgetParams);\n                        itemWidget.muBindData(data);\n                        if (\"AferBind\" in itemWidget) { // @ts-ignore\n                            itemWidget.AferBind();\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        else if (target.startsWith(\".\"))\n            this.setDeep(val, element[\"widget\"], target.substr(1));\n        else if (target.startsWith(\"@attr.\"))\n            element.setAttribute(target.substr(6), val);\n        else if (target == \"@visible\")\n            element.style.display = val ? \"\" : \"none\";\n        else if (target == \"@options\") {\n            const addOpt = function (val, text) {\n                const opt = document.createElement(\"option\");\n                opt.text = text;\n                opt.value = val;\n                element.add(opt);\n            };\n            element.innerHTML = \"\";\n            if (Array.isArray(val)) {\n                for (const item of val) {\n                    if (typeof item === \"string\")\n                        addOpt(item, item);\n                    else\n                        addOpt(item.value, item.text);\n                }\n            }\n            else if (typeof val === \"object\") {\n                for (const v in val) {\n                    addOpt(v, val[v]);\n                }\n            }\n        }\n        else\n            this.setDeep(val, element, target); // element[target] = val;\n    }\n    static setDeep(value, object, path) {\n        let obj = object;\n        const fields = path.split(\".\");\n        const lastI = fields.length - 1;\n        let i = 0;\n        for (const f of fields) {\n            if (i < lastI)\n                obj = obj[f];\n            else\n                obj[f] = value;\n            if (!obj)\n                throw \"Can not set value to path'\" + path + \"'\";\n            i++;\n        }\n    }\n    static getDeep(object, path) {\n        let obj = object;\n        const fields = path.split(\".\");\n        for (const f of fields) {\n            if (!(f in obj))\n                return undefined;\n            obj = obj[f];\n        }\n        return obj;\n    }\n    static GetValue(target, element, widget) {\n        switch (target) {\n            case \"@widget\":\n                return element[\"widget\"].muFetchData();\n            case \"foreach\":\n            case \"@foreach\":\n                return widget.muGetChildWidgets(element).map(itemWidget => itemWidget.muFetchData());\n            default:\n                if (target.startsWith(\".\"))\n                    return this.getDeep(element[\"widget\"], target.substr(1));\n                else if (target.startsWith(\"@attr.\"))\n                    return element.getAttribute(target.substr(6));\n                else if (target == \"@visible\")\n                    return element.style.display != \"none\";\n                else\n                    return this.getDeep(element, target); // element[target] = val;\n                break;\n            // return element[target];\n        }\n    }\n}\nexports.MuBinder = MuBinder;\nMuBinder.filters = {\n    toLower: val => {\n        return val === null || val === void 0 ? void 0 : val.toString().toLocaleLowerCase();\n    },\n    toUpper: val => val === null || val === void 0 ? void 0 : val.toString().toLocaleUpperCase(),\n    short: (val, ev, maxLen, sufix = \"...\") => {\n        let str = val.toString();\n        if (str.length >= maxLen - sufix.length)\n            str = str.substr(0, maxLen) + sufix;\n        return str;\n    },\n    tern: (val, ev, onTrue, onFalse) => val ? onTrue : onFalse,\n    prepend: (val, ev, prefix, ifAny = false) => !ifAny || val ? prefix + val : val,\n    append: (val, ev, prefix, ifAny = false) => !ifAny || val ? val + prefix : val,\n    map: (val, ev, map) => map[val],\n    // toggleClass: (val, ev, trueClass : string, falseClass : string) =>\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.StrParser = void 0;\nclass StrParser {\n    constructor(str) {\n        this.position = 0;\n        this.lastMark = null;\n        this.debugMode = false;\n        this._onEndChunk = false;\n        this.str = str;\n    }\n    findNext(chunk, skipChunk = false) {\n        if (typeof chunk === \"string\")\n            chunk = [chunk];\n        // let firstPos : number|null = null;\n        let firstPos = null;\n        let firstChunk = null;\n        let firstChunkNum = 0;\n        let i = 0;\n        for (const ch of chunk) {\n            const pos = this.str.indexOf(ch, this.position);\n            if (pos > 0 && (firstPos === null || pos < firstPos)) {\n                firstPos = pos;\n                firstChunk = ch;\n                firstChunkNum = i;\n            }\n            i++;\n        }\n        if (firstChunk) {\n            if (skipChunk)\n                firstPos += firstChunk.length;\n            this.position = firstPos;\n            this.lastMark = {\n                chunk: firstChunk,\n                chunkNum: firstChunkNum,\n                position: firstPos\n            };\n            this._onEndChunk = false;\n            this.debug(\"findNext(\" + chunk.join('\", \"') + \") > '\" + firstChunk + \"', \" + this.position);\n            return this.lastMark;\n        }\n        else {\n            this.debug(\"findNext(\" + chunk.join('\", \"') + \") not found \" + this.position);\n            return null;\n        }\n    }\n    substring(start = null, stop = null) {\n        if (start === null)\n            start = this.position;\n        else if (typeof start !== \"number\")\n            start = start.position;\n        if (stop === null)\n            stop = this.str.length;\n        else if (typeof stop !== \"number\")\n            stop = stop.position;\n        const res = this.str.substring(start, stop);\n        this.debug(\"substr \" + start + \":\" + stop + \" > \" + res);\n        return res;\n    }\n    moverel(mov) {\n        const newPos = this.position + mov;\n        this.position = Math.min(this.str.length, Math.max(0, newPos));\n        return { position: this.position };\n    }\n    pos() {\n        return { position: this.position };\n    }\n    toEndChunk() {\n        var _a, _b;\n        const l = this._onEndChunk ? 0 : (((_b = (_a = this.lastMark) === null || _a === void 0 ? void 0 : _a.chunk) === null || _b === void 0 ? void 0 : _b.length) || 0);\n        this.moverel(l);\n        this._onEndChunk = true;\n        this.debug(\"toEndChunk +\" + l.toString());\n    }\n    debug(msg) {\n        if (this.debugMode) {\n            console.log(msg + \"\\n\t\t%c\" + this.str.substring(0, this.position) + \"%c\" + this.str.substring(this.position), \"background: green; color: white\", \"color: blue\");\n        }\n    }\n    isEnd() {\n        return this.position >= this.str.length;\n    }\n}\nexports.StrParser = StrParser;\n","import {MuWidget} from \"mu-widget/lib/MuWidget\";\n\nexport class CopyBlock extends MuWidget\n{\n\tbeforeIndex() {\n\t\tthis.container.innerHTML = '<span mu-id=\"content\" class=\"copy-block__content\">' + this.container.innerHTML + '</span><span mu-id=\"btCopy\" class=\"copy-block__bt-copy\"></span>';\n\t}\n\n\tbtCopy_click() {\n\t\tthis.ui.content.contentEditable = \"true\";\n\t\tthis.ui.content.setAttribute(\"contenteditable\", \"true\");\n\t\tthis.ui.content.focus();\n\t\tdocument.execCommand('selectAll');\n\t\tdocument.execCommand(\"copy\");\n\t\tthis.ui.content.contentEditable = \"false\";\n\t\tthis.ui.content.setAttribute(\"contenteditable\", \"false\");\n\t}\n}","exports.interopDefault = function (a) {\n  return a && a.__esModule ? a : {default: a};\n};\n\nexports.defineInteropFlag = function (a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n};\n\nexports.exportAll = function (source, dest) {\n  Object.keys(source).forEach(function (key) {\n    if (key === 'default' || key === '__esModule' || dest.hasOwnProperty(key)) {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function () {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n};\n\nexports.export = function (dest, destName, get) {\n  Object.defineProperty(dest, destName, {\n    enumerable: true,\n    get: get,\n  });\n};\n"],"names":[],"version":3,"file":"index.js.map","sourceRoot":"../../../../murdej.github.io-src/"}